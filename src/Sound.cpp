#include "Sound.h"

/*******************************************************************************
*
*******************************************************************************/
Sound::Sound()
: playing(false) {

}

/*******************************************************************************
*
*******************************************************************************/
Sound::~Sound() {
  engine->drop();
}

/*******************************************************************************
*
*******************************************************************************/
void Sound::init() {
  engine   = createIrrKlangDevice();
  menuMove = engine->addSoundSourceFromFile("sounds/menu_move.wav");

  menuMove->setDefaultVolume(0.25f);
}

/*******************************************************************************
*
*******************************************************************************/
bool Sound::isPlaying() {
  return playing;
}

/*******************************************************************************
*
*******************************************************************************/
void Sound::playBackground() {
  background = engine->play2D("sounds/techno_chicken.wav", true, false, true);
  playing    = true;

  background->setVolume(0.4f);
}

/*******************************************************************************
*
*******************************************************************************/
void Sound::playMenu() {
  menu    = engine->play2D("sounds/menu.wav", true, false, true);
  playing = true;
}

/*******************************************************************************
*
*******************************************************************************/
void Sound::playMenuMove() {
  engine->play2D(menuMove);
}

/*******************************************************************************
*
*******************************************************************************/
void Sound::stopBackground() {
  background->stop();
  background->drop();

  background = 0;
  playing    = false;
}

/*******************************************************************************
*
*******************************************************************************/
void Sound::stopMenu() {
  menu->stop();
  menu->drop();

  menu    = 0;
  playing = false;
}

